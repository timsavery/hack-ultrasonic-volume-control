var five = require("../lib/johnny-five.js");

(new five.Board()).on("ready", function() {
  var defs, servos;
  // http://www.ranchbots.com/robot_arm/images/arm_diagram.jpg
  defs = [

    // Pivot
    { id: "a", pin:  6, range: [  0, 180 ], at: 90 },
    // Shoulder
    { id: "b", pin:  9, range: [ 60, 150 ], at: 20 },
    // Elbow
    { id: "c", pin: 10, range: [  0, 120 ], at: 0 },
    // Wrist
    { id: "d", pin: 11, range: [  0, 180 ], at: 40 },
    // Grip
    { id: "e", pin: 12, range: [  0, 180 ], at: 0 }
  ];

  defs.forEach(function( def ) {
    five.Servo( def ).move( def.at );
  });

  servos = [].slice.call(five.Servo.Array()).reduce(function( init, servo ) {
    return (init[ servo.id ] = servo) && init;
  }, {});

  this.repl.inject( servos );


});
