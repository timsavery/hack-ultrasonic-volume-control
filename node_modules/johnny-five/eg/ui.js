var five = require("../lib/johnny-five.js"),
    compulsive = require("compulsive"),
    servos;

(new five.Board()).on("ready", function() {

  function tap() {

    action.move(180);

    compulsive.wait( 100, function() {
      action.move(175);
    });
  }
  function dbl() {
    tap();

    compulsive.wait( 250, function() {
      this.tap();
    }.bind(this));
  }


  var action, claw, pad, slider;

  action = new five.Servo(9);

  claw = new five.Servo({
    pin: 10,
    center: false
  });

  pad = new five.Servo(11);

  claw.move(120);
  action.move(175);

  slider = new five.Sensor({
    pin: "A0",
    freq: 50
  });

  // log out the slider values to the console.
  slider.scale( 0, 100 ).on("slide", function( err, value ) {
    if ( this.value ) {
      pad.move(this.value);
    }
  });

  this.repl.inject({
    action: action,
    claw: claw,
    pad: pad,
    tap: tap,
    dbl: dbl
  });
});
