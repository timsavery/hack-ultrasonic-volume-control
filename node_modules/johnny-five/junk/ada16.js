var Board = require("firmata").Board,
    address, board;

address = 0x40;

board = new Board("/dev/tty.usbmodem411", function() {

  console.log( "ready" );

  board.sendI2CConfig();

  board.on("string",function( string ) {
    console.log( string );
  });

  // Continuous measurement mode
  // board.sendI2CWriteRequest( address, [ 0x1, 0x0 ] );

  // Set pointer to XMSB
  console.log( 0x6 + 4 * 2, 0x6 + 4 * 2 >> 8 );
  // board.sendI2CWriteRequest( address, [ 0x00 ] );

  // initial interval wait time is 500ms
  interval = 500;

  setInterval(function() {

    // board.sendI2CConfig();
    // board.sendI2CWriteRequest( address, [ 0x00 ] );

    // Read 6 bytes from the register
    board.sendI2CReadRequest( address, 1, function( data ) {

      console.log( data );
    });

  }, interval );
});
