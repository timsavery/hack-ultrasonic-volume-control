var five = require("../lib/johnny-five"),
    board, lcd, range;

board = new five.Board();

// call with:
// node eg/lcd-usechar-20x4.js #
//    where # is the starting point of the LCD.Characters index
//
range = process.argv[2] ?
          [ +process.argv[2], +process.argv[2] + 8 ] : [ 0, 8 ];

board.on("ready", function() {

  lcd = new five.LCD({
    // LCD pin name  RS  EN  DB4 DB5 DB6 DB7
    // Arduino pin # 7    8   9   10  11  12
    pins: [ 7, 8, 9, 10, 11, 12 ],
    rows: 2,
    cols: 20
  });

  lcd.on("ready", function() {
    // Expirimental useChar API
    // Predefined characters:
    //
    // bell, note, clock, heart, duck,
    // check, cross, retarrow
    var chars, display, length;

    display = "";
    chars = Object.keys( five.LCD.Characters );
    length = five.LCD.Characters;

    [].slice.apply( chars, range ).forEach(function( char ) {
      lcd.useChar( char );
      display += ":" + char + ":";
    });


    lcd.clear().print( display );
  });
});
