var five = require("../lib/johnny-five.js");

(new five.Board()).on("ready", function() {
  var danger;

  danger = {

    sliders: {
      a: new five.Sensor("A2"),
      b: new five.Sensor("A1"),
      c: new five.Sensor("A0")
    },

    buttons: {
      a: new five.Button(10),
      b: new five.Button(11),
      c: new five.Button(12)
    },

    leds: {
      a: new five.Led(5),
      b: new five.Led(6)
    },

    sensors: {
      temp: new five.Sensor("A4"),
      light: new five.Sensor("A3"),
    }

    // ,
    // buzzer: {
    //   piezo: new five.Piezo()
    // }

  };

  this.repl.inject({
    d: danger
  });

  // Object.keys( danger.sliders ).forEach(function( key, k ) {
  //   danger.sliders[ key ].scale([ 0, 100 ]).on("slide", function() {
  //     console.log( "Slider", key, this.value );
  //   });
  // });


  // Listen for down events on the buttons
  Object.keys( danger.buttons ).forEach(function( key ) {

    danger.buttons[ key ].on("down", function() {
      console.log( "Button", key, "down" );
    });
  });

  // Strobe the Leds
  Object.keys( danger.leds ).forEach(function( key ) {
    danger.leds[ key ].strobe();
  });


});
